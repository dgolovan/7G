window.sevengeese={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";{var a=new this.Collections.ReposCollection;new this.Views.ReposView({collection:a})}a.fetch({reset:!0})}},$(document).ready(function(){"use strict";sevengeese.init()}),this.JST=this.JST||{},this.JST["app/scripts/templates/repo.ejs"]=function(obj){obj||(obj={});{var __t,__p="";_.escape}with(obj)__p+='<td><a href="'+(null==(__t=url)?"":__t)+'" target="_blank">'+(null==(__t=name)?"":__t)+"</a></td>\n<td>"+(null==(__t=forks)?"":__t)+"</td>\n<td>"+(null==(__t=created)?"":__t)+"</td>\n";return __p},sevengeese.Models=sevengeese.Models||{},function(){"use strict";sevengeese.Models.RepoModel=Backbone.Model.extend({url:"https://api.github.com/repos/7geese/",initialize:function(){this.url=this.url+this.get("name")},parse:function(a){var b=a.forks||0,c=a.created_at||"";a.source&&(b=a.source.forks,c=a.source.created_at);var d={name:a.name,forks:b,url:a.html_url,created:new Date(c).toDateString()};return d}})}(),sevengeese.Collections=sevengeese.Collections||{},function(){"use strict";sevengeese.Collections.ReposCollection=Backbone.Collection.extend({model:sevengeese.Models.RepoModel,url:"https://api.github.com/orgs/7geese/repos",comparator:function(a){return-1*a.get("forks")},initialize:function(){this.bind("reset",this.onColReset,this)},onColReset:function(a){_.each(a.models,function(b){return b.fetch({success:function(b){a.set(b,{remove:!1}),a.sort()}}),b})}})}(),sevengeese.Routers=sevengeese.Routers||{},function(){"use strict";sevengeese.Routers.ReposRouter=Backbone.Router.extend({})}(),sevengeese.Views=sevengeese.Views||{},function(){"use strict";sevengeese.Views.ReposView=Backbone.View.extend({el:"#repoTable",initialize:function(){this.collection.bind("sort",this.render,this)},render:function(){return $(this.el).html("<tr><th>Repo Name</th><th>Forks</th><th>Created</th></tr>"),_.each(this.collection.models,function(a){$(this.el).append(new sevengeese.Views.RepoView({model:a}).render().el)},this),this}}),sevengeese.Views.RepoView=Backbone.View.extend({tagName:"tr",template:JST["app/scripts/templates/repo.ejs"],initialize:function(){this.model.bind("change",this.render,this)},render:function(){return $(this.el).html(this.template(this.model.toJSON())),this}})}();